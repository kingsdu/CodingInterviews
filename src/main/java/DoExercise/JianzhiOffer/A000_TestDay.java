package DoExercise.JianzhiOffer;

//0620:要刷的三道题:12;20;9
//0621:要刷的三道题:13;11;22
//0622:要刷的三道题:7;13;6
//0624:要刷的三道题:6;57;1
//0628:要刷的三道题:7;8;3
public class A000_TestDay
{
    
    public static void main(String[] args)
    {
        int[] arr = {2566, 5469, 1898, 127, 2441, 4612, 2554, 5269, 2785, 5093, 3931, 2532, 1195, 1101, 1334, 2124, 1156, 3400, 747, 5046, 3325, 4039, 1858, 3655, 4904, 2255, 1822, 972, 5175, 2880, 2776, 4900, 2172, 3808, 3441, 4153, 3969, 3116, 1913, 5129, 4839, 4586, 752, 1804, 1970, 4052, 5016, 3781, 5000, 4331, 2762, 4886, 826, 1888, 1175, 2729, 1610, 1634, 2773, 543, 2617, 4990, 3225, 2962, 4963, 3575, 3742, 3424, 3246, 5067, 133, 2713, 2667, 4043, 663, 3442, 1714, 386, 3864, 1978, 1363, 27, 630, 4652, 1537, 1770, 893, 2676, 2608, 3842, 4852, 5248, 832, 1689, 1033, 3849, 1471, 3373, 2764, 2453, 5272, 1313, 1005, 5083, 2191, 4525, 2706, 915, 5230, 3833, 5011, 4531, 2864, 1581, 3300, 1367, 4668, 5104, 1005, 2842, 2654, 2108, 5046, 1398, 5278, 3665, 2488, 4944, 3173, 2897, 4970, 2618, 749, 248, 2707, 4509, 4603, 2647, 2957, 2157, 2997, 829, 2689, 3513, 3033, 5177, 3201, 5463, 369, 2779, 906, 4386, 3631, 4773, 3718, 2782, 2240, 3210, 5158, 2737, 4020, 3453, 3208, 1344, 4100, 1183, 704, 3205, 2798, 3386, 1970, 4734, 3055, 2182, 990, 5189, 2419, 1860, 3998, 972, 1687, 441, 2217, 2254, 4634, 2791, 2487, 98, 5358, 4433, 4023, 4328, 3953, 2461, 974, 731, 869, 5382, 3699, 1748, 3629, 723, 962, 600, 2736, 1413, 3146, 2955, 2386, 4834, 4467, 2814, 2822, 5137, 3101, 111, 1059, 2144, 2664, 287, 4904, 1612, 4336, 1301, 3691, 1391, 717, 127, 1128, 2624, 449, 2349, 2759, 1592, 369, 2359, 5064, 4392, 1137, 1682, 987, 4092, 1283, 4272, 846, 4355, 1495, 1828, 2190, 1813, 4226, 3995, 2809, 1111, 3692, 5481, 1538, 509, 3008, 4781, 5259, 501, 2086, 4545, 5250, 2524, 4374, 3539, 3973, 4357, 2018, 3894, 3958, 102, 3179, 5146, 823, 4168, 528, 893, 1756, 113, 3042, 3235, 2954, 482, 2707, 3309, 1038, 3280, 4185, 559, 4648, 4346, 192, 3214, 1263, 3062, 85, 523, 141, 2822, 5218, 3192, 5426, 793, 623, 2340, 3312, 2513, 5439, 4042, 5203, 4931, 2179, 626, 4858, 115, 1932, 3298, 3070, 3043, 888, 918, 5227, 1828, 843, 4764, 2843, 645, 4774};
        
        System.out.println(reversePairs(arr));
        
    }
    
    static int count;
    
    public static int reversePairs(int[] arr)
    {
        count = 0;
        merge(arr, 0, arr.length - 1);
        return count;
    }
    
    public static void merge(int[] arr, int l, int r)
    {
        if (l < r)
        {
            int m = l + ((r - l) >> 1);
            merge(arr, l, m);
            merge(arr, m + 1, r);
            mergeSort(arr, l, m, r);
        }
    }
    
    public static void mergeSort(int[] arr, int l, int m, int r)
    {
        int[] temp = new int[r - l + 1];
        int i = l, j = m + 1, x = 0;
        while (i <= m && j <= r)
        {
            if (arr[i] <= arr[j])
            {
                temp[x++] = arr[i++];
            } else
            {
                temp[x++] = arr[j++];
                count += m - i + 1;
            }
        }
        while (i <= m) temp[x++] = arr[i++];
        while (j <= r) temp[x++] = arr[j++];
        for (int k = 0; k < temp.length; k++)
        {
            arr[l + k] = temp[k];
        }
    }
    
}
